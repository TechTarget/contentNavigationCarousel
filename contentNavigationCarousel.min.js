/*!
 * Content Navigation Carousel v0.5 (http://okize.github.com/)
 * Copyright (c) 2012 | Licensed under the MIT license - http://www.opensource.org/licenses/mit-license.php
 */(function(e,t,n){"use strict";function o(t,n){this.element=t,this.options=e.extend({},s,n),this._defaults=s,this._name=r,this.init()}var r="contentNavigationCarousel",i=t.document,s={autoPlay:!0,autoPlaySpeed:1e4,mouseEvent:"click",switchSpeed:500,equalizeHeights:!0};o.prototype.init=function(){var t=this.options,n=e(this.element),r=n.find(".contentCollection"),i=0,s=r.find(".contentItem"),o=0,u=0,a=s.find(".contentLink"),f=e('<div class="contentNavigation" />'),l=0,c,h,p=-1,d=0;if(a.length<=1)return;t.mouseEvent==="hover"&&(t.mouseEvent="mouseenter"),c=e.map(a,function(e,t){return'<li><a href="'+e.href+'" data-index="'+t+'">'+(e.textContent||e.innerText)+"</a></li>"}),c=e(c.join("")),f.append(e("<ul>").append(c)).insertAfter(r),l=f.height(),i=Math.max.apply(null,s.map(function(){return e(this).height()}).get()),r.css("overflow")==="hidden"&&r.height(i),t.equalizeHeights&&(l>i?r.height(l):f.height(i)),s.each(function(t){o=e(this).height(),u=Math.round((l-o)/2),e(this).css({display:"none",top:u+"px"})});var v=function(n){t.mouseEvent==="click"&&n.preventDefault(),h=e(this),d=h.data("index"),c.removeClass("active"),c.eq(d).addClass("active"),d!==p&&(s.eq(p).fadeOut(t.switchSpeed/2,function(){s.eq(d).fadeIn(t.switchSpeed/2)}),p=d)};c.on(t.mouseEvent,"a",event,v),f.find("a").eq(0).trigger(t.mouseEvent)},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new o(this,t))})}})(jQuery,window);